<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zimbabwe Vision 2030 Portal - Economic Progress & Development</title>
    <meta name="description" content="Comprehensive portal for Zimbabwe's Vision 2030 initiative, tracking economic progress, development programs, infrastructure projects, and investment opportunities towards upper middle-income status by 2030.">
    <meta name="author" content="Munyaradzi Chiondegwa">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#1a531b',
                        secondary: '#d4af37',
                        accent: '#e31e24'
                    },
                    fontFamily: {
                        sans: ['Roboto', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" >
    <style>
        body { font-family: 'Roboto', sans-serif; }

        /* Dark mode support */
        .dark { color-scheme: dark; }

        /* Hero slideshow */
        .hero-slide { transition: opacity 0.5s ease-in-out; }

        /* Modal styles */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7); }
        .modal.show { display: flex; align-items: center; justify-content: center; }
        .modal-content { background-color: white; margin: auto; padding: 2rem; border-radius: 8px; max-width: 800px; max-height: 90vh; overflow-y: auto; position: relative; }
        .dark .modal-content { background-color: #1f2937; color: white; }

        /* Map container */
        .map-container { height: 500px; width: 100%; border-radius: 8px; }

        /* Mapbox popup customization */
        .mapboxgl-popup-content {
            padding: 0;
            border-radius: 8px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .mapboxgl-popup-close-button {
            font-size: 20px;
            padding: 0 8px;
            color: #6b7280;
        }
        .mapboxgl-popup-close-button:hover {
            background-color: #f3f4f6;
            color: #1a531b;
        }

        /* Lazy loading */
        img[loading="lazy"] { opacity: 0; transition: opacity 0.3s; }
        img[loading="lazy"].loaded { opacity: 1; }

        /* Mobile menu */
        .mobile-menu { display: none; }
        .mobile-menu.active { display: block; }

        /* Chart responsiveness */
        canvas { max-height: 300px; }

        /* Card hover effects */
        .card-hover { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(0,0,0,0.15); }

        /* Loading state */
        .loading { position: relative; pointer-events: none; opacity: 0.6; }
        .loading::after { content: ""; position: absolute; top: 50%; left: 50%; width: 40px; height: 40px; margin: -20px 0 0 -20px; border: 4px solid #f3f3f3; border-top: 4px solid #1a531b; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Responsive images */
        .responsive-img { width: 100%; height: auto; display: block; }

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #1a531b; border-radius: 5px; }
        ::-webkit-scrollbar-thumb:hover { background: #d4af37; }
    </style>
</head>
<body class="bg-white dark:bg-gray-900 text-gray-900 dark:text-white">
    <!-- Navigation -->
    <nav class="bg-primary text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <h1 class="text-2xl font-bold">Zimbabwe Vision 2030</h1>

                <!-- Desktop Menu -->
                <ul class="hidden md:flex space-x-6">
                    <li><a href="#home" class="hover:text-secondary transition">Home</a></li>
                    <li><a href="#overview" class="hover:text-secondary transition">Overview</a></li>
                    <li><a href="#economy" class="hover:text-secondary transition">Economy</a></li>
                    <li><a href="#programs" class="hover:text-secondary transition">Programs</a></li>
                    <li><a href="#sectors" class="hover:text-secondary transition">Sectors</a></li>
                    <li><a href="#infrastructure" class="hover:text-secondary transition">Infrastructure</a></li>
                    <li><a href="#investors" class="hover:text-secondary transition">Invest</a></li>
                    <li><a href="#news" class="hover:text-secondary transition">News</a></li>
                </ul>

                <!-- Mobile Menu Button & Dark Mode Toggle -->
                <div class="flex items-center space-x-4">
                    <button id="dark-toggle" class="text-secondary hover:text-accent transition">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button id="mobile-menu-toggle" class="md:hidden text-secondary">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>

            <!-- Mobile Menu -->
            <div id="mobile-menu" class="mobile-menu mt-4">
                <ul class="flex flex-col space-y-2">
                    <li><a href="#home" class="block py-2 hover:text-secondary transition">Home</a></li>
                    <li><a href="#overview" class="block py-2 hover:text-secondary transition">Overview</a></li>
                    <li><a href="#economy" class="block py-2 hover:text-secondary transition">Economy</a></li>
                    <li><a href="#programs" class="block py-2 hover:text-secondary transition">Programs</a></li>
                    <li><a href="#sectors" class="block py-2 hover:text-secondary transition">Sectors</a></li>
                    <li><a href="#infrastructure" class="block py-2 hover:text-secondary transition">Infrastructure</a></li>
                    <li><a href="#investors" class="block py-2 hover:text-secondary transition">Invest</a></li>
                    <li><a href="#news" class="block py-2 hover:text-secondary transition">News</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative w-full">
        <div class="hero-slideshow h-96 sm:h-[450px] md:h-[500px] lg:h-[550px] overflow-hidden relative">
            <!-- Slide 1: Main Vision -->
            <div class="hero-slide absolute inset-0 w-full h-full opacity-100 bg-gradient-to-r from-primary to-green-700 flex items-center justify-center">
                <div class="text-center text-white p-6">
                    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">Zimbabwe Vision 2030</h1>
                    <p class="text-lg md:text-xl mb-6">Towards an Upper Middle-Income Economy by 2030: Inclusive Growth, Innovation, and Resilience</p>
                    <a href="#overview" class="bg-white text-primary hover:bg-gray-100 px-6 py-3 rounded-full font-medium shadow-lg transition">Explore Zimbabwe's Journey to 2030</a>
                </div>
            </div>

            <!-- Slide 2: TSP -->
            <div class="hero-slide absolute inset-0 w-full h-full opacity-0 bg-gradient-to-r from-accent to-red-700 flex items-center justify-center">
                <div class="text-center text-white p-6">
                    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">TSP 2018-2020</h1>
                    <p class="text-lg md:text-xl mb-6">Transitional Stabilisation Programme: The Foundation for Economic Recovery</p>
                    <button onclick="openModal('tsp')" class="bg-white text-accent hover:bg-gray-100 px-6 py-3 rounded-full font-medium shadow-lg transition">Learn About TSP</button>
                </div>
            </div>

            <!-- Slide 3: NDS1 -->
            <div class="hero-slide absolute inset-0 w-full h-full opacity-0 bg-gradient-to-r from-secondary to-yellow-600 flex items-center justify-center">
                <div class="text-center text-white p-6">
                    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">NDS1 2021-2025</h1>
                    <p class="text-lg md:text-xl mb-6">National Development Strategy 1: Building Momentum for Growth</p>
                    <button onclick="openModal('nds1')" class="bg-white text-secondary hover:bg-gray-100 px-6 py-3 rounded-full font-medium shadow-lg transition">Explore NDS1</button>
                </div>
            </div>

            <!-- Slide 4: NDS2 -->
            <div class="hero-slide absolute inset-0 w-full h-full opacity-0 bg-gradient-to-r from-blue-600 to-purple-700 flex items-center justify-center">
                <div class="text-center text-white p-6">
                    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">NDS2 2026-2030</h1>
                    <p class="text-lg md:text-xl mb-6">National Development Strategy 2: Realizing the Vision</p>
                    <button onclick="openModal('nds2')" class="bg-white text-blue-600 hover:bg-gray-100 px-6 py-3 rounded-full font-medium shadow-lg transition">Discover NDS2</button>
                </div>
            </div>

            <!-- Slide 5: Overview -->
            <div class="hero-slide absolute inset-0 w-full h-full opacity-0 bg-gradient-to-r from-green-600 to-teal-600 flex items-center justify-center">
                <div class="text-center text-white p-6">
                    <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">Four Pillars of Vision 2030</h1>
                    <p class="text-lg md:text-xl mb-6">Inclusive Growth • Infrastructure • Governance • Sustainability</p>
                    <a href="#overview" class="bg-white text-green-600 hover:bg-gray-100 px-6 py-3 rounded-full font-medium shadow-lg transition">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Economic Statistics Banner -->
    <section class="py-16 bg-secondary">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary">View Economic Data</h2>
            <div id="economic-stats" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Dynamic content loaded here -->
            </div>
        </div>
    </section>

    <!-- Vision 2030 Overview -->
    <section id="overview" class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8 text-primary dark:text-secondary">Vision 2030 Overview</h2>
            <p class="text-lg mb-8 text-center max-w-4xl mx-auto">Zimbabwe's comprehensive roadmap to becoming an upper middle-income economy by 2030, focused on inclusive growth, innovation, and resilience.</p>

            <div class="mb-12 max-w-5xl mx-auto">
                <p class="text-base md:text-lg leading-relaxed mb-6">The vision is built on four pillars: (1) <strong>Inclusive economic growth</strong> through diversification and job creation (target: 2M new jobs by 2030); (2) <strong>Modern infrastructure development</strong>, including $10B+ investments in energy and transport; (3) <strong>Good governance</strong>, with anti-corruption reforms and digital services; (4) <strong>Environmental sustainability</strong>, aligning with climate goals and AfCFTA for regional trade.</p>
                <p class="text-base md:text-lg leading-relaxed">It draws from global benchmarks like the SDGs, aiming for 8% GDP growth and poverty below 20%.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border-l-4 border-primary">
                    <i class="fas fa-bullseye text-4xl text-primary mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">Vision & Mission</h3>
                    <p class="text-gray-700 dark:text-gray-300">Transform Zimbabwe into a prosperous, empowered, upper-middle-income society by 2030.</p>
                </div>

                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border-l-4 border-secondary">
                    <i class="fas fa-chart-line text-4xl text-secondary mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">Inclusive Growth</h3>
                    <p class="text-gray-700 dark:text-gray-300">Economic growth and structural transformation benefiting all citizens.</p>
                </div>

                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border-l-4 border-accent">
                    <i class="fas fa-road text-4xl text-accent mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">Infrastructure</h3>
                    <p class="text-gray-700 dark:text-gray-300">Modern, world-class infrastructure development across the nation.</p>
                </div>

                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border-l-4 border-primary">
                    <i class="fas fa-balance-scale text-4xl text-primary mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">Governance</h3>
                    <p class="text-gray-700 dark:text-gray-300">Good governance and strengthening the rule of law.</p>
                </div>

                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border-l-4 border-secondary col-span-1 md:col-span-2 lg:col-span-1">
                    <i class="fas fa-leaf text-4xl text-green-600 mb-4"></i>
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">Sustainability</h3>
                    <p class="text-gray-700 dark:text-gray-300">Environmental sustainability and climate resilience.</p>
                </div>
            </div>

            <!-- Development Path -->
            <div class="mt-16">
                <h3 class="text-2xl font-bold text-center mb-10 text-primary dark:text-secondary">Development Path to 2030</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="card-hover bg-gradient-to-br from-primary to-green-700 text-white p-8 rounded-lg shadow-xl cursor-pointer" onclick="openModal('tsp')">
                        <div class="flex items-center mb-4">
                            <span class="text-5xl font-bold text-secondary mr-4">1</span>
                            <h4 class="text-2xl font-bold">TSP 2018-2020</h4>
                        </div>
                        <p class="text-lg mb-2">Transitional Stabilisation Programme</p>
                        <p class="text-sm opacity-90">Foundation building and economic stabilization</p>
                        <div class="mt-4 text-secondary font-semibold">✓ Completed</div>
                    </div>

                    <div class="card-hover bg-gradient-to-br from-secondary to-yellow-600 text-white p-8 rounded-lg shadow-xl cursor-pointer" onclick="openModal('nds1')">
                        <div class="flex items-center mb-4">
                            <span class="text-5xl font-bold text-primary mr-4">2</span>
                            <h4 class="text-2xl font-bold">NDS1 2021-2025</h4>
                        </div>
                        <p class="text-lg mb-2">National Development Strategy 1</p>
                        <p class="text-sm opacity-90">Structural reforms and accelerated growth</p>
                        <div class="mt-4 text-primary font-semibold">⚡ Final Year</div>
                    </div>

                    <div class="card-hover bg-gradient-to-br from-accent to-red-700 text-white p-8 rounded-lg shadow-xl cursor-pointer" onclick="openModal('nds2')">
                        <div class="flex items-center mb-4">
                            <span class="text-5xl font-bold text-secondary mr-4">3</span>
                            <h4 class="text-2xl font-bold">NDS2 2026-2030</h4>
                        </div>
                        <p class="text-lg mb-2">National Development Strategy 2</p>
                        <p class="text-sm opacity-90">Achieving upper middle-income status</p>
                        <div class="mt-4 text-secondary font-semibold">→ In Planning</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Economic Progress & Performance -->
    <section id="economy" class="py-16 bg-gray-100 dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8 text-primary dark:text-secondary">Economic Progress & Performance</h2>
            <p class="text-center mb-12 text-lg max-w-3xl mx-auto">Tracking Zimbabwe's economic transformation with key indicators and real-time data visualization</p>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
                <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg">
                    <h3 class="text-lg font-bold mb-4 text-center text-primary dark:text-secondary">GDP Growth Trajectory</h3>
                    <canvas id="gdpChart"></canvas>
                </div>

                <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg">
                    <h3 class="text-lg font-bold mb-4 text-center text-primary dark:text-secondary">GDP by Sector (2025)</h3>
                    <canvas id="sectorChart"></canvas>
                </div>

                <div class="bg-white dark:bg-gray-700 p-6 rounded-lg shadow-lg">
                    <h3 class="text-lg font-bold mb-4 text-center text-primary dark:text-secondary">Inflation Trend</h3>
                    <canvas id="inflationChart"></canvas>
                </div>
            </div>

            <!-- Economic Highlights -->
            <div id="economic-highlights" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Dynamic content loaded here -->
            </div>
        </div>
    </section>

    <!-- Development Programs -->
    <section id="programs" class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary dark:text-secondary">Development Programs</h2>
            <div id="programs-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Dynamic content loaded here -->
            </div>

            <!-- NDS2 Transition Info -->
            <div class="mt-16 bg-gradient-to-r from-primary to-secondary text-white p-8 md:p-12 rounded-lg shadow-xl">
                <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center">Transition to NDS2 (2026-2030)</h3>
                <p class="text-lg mb-8 text-center max-w-4xl mx-auto">Cabinet approved the NDS2 roadmap in September 2024. The 2026 National Budget will mark the first implementation year, building on NDS1's strong foundation of macroeconomic stabilization, infrastructure rehabilitation, and the structured ZiG currency system.</p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm">
                        <h4 class="font-bold text-xl mb-3 text-secondary">
                            <i class="fas fa-building mr-2"></i>Infrastructure Investment Programme 2025
                        </h4>
                        <p>Consolidates achievements and provides foundation for NDS2 projects including Lake Gwayi-Tshangani (50% complete) and DISCO Steel Plant ($1.5B investment)</p>
                    </div>

                    <div class="bg-white bg-opacity-10 p-6 rounded-lg backdrop-blur-sm">
                        <h4 class="font-bold text-xl mb-3 text-secondary">
                            <i class="fas fa-chart-pie mr-2"></i>Inclusive Growth Framework
                        </h4>
                        <p>NDS2 will emphasize robust trade, investment promotion, and socio-economic transformation to catapult Zimbabwe to Vision 2030 targets</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Economic Sectors -->
    <section id="sectors" class="py-16 bg-secondary">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary">Key Economic Sectors</h2>
            <p class="text-center mb-12 text-lg text-primary max-w-3xl mx-auto">Powering Zimbabwe's economic transformation across strategic industries</p>
            <div id="sectors-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Dynamic content loaded here -->
            </div>
        </div>
    </section>

    <!-- Infrastructure Development -->
    <section id="infrastructure" class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary dark:text-secondary">Infrastructure Development</h2>

            <!-- Infrastructure Categories -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <div class="card-hover bg-gradient-to-br from-blue-500 to-blue-700 text-white p-6 rounded-lg shadow-lg">
                    <i class="fas fa-tint text-5xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-4">Water Security</h3>
                    <ul class="space-y-2">
                        <li>✓ Kunzvi Dam: 65% complete</li>
                        <li>✓ Gwayi-Shangani: 72.4% complete</li>
                        <li>✓ Lake Gwayi-Tshangani: 50%</li>
                    </ul>
                </div>

                <div class="card-hover bg-gradient-to-br from-green-500 to-green-700 text-white p-6 rounded-lg shadow-lg">
                    <i class="fas fa-road text-5xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-4">Transport Network</h3>
                    <ul class="space-y-2">
                        <li>✓ Trabablas Interchange completed</li>
                        <li>✓ Road rehabilitation nationwide</li>
                        <li>✓ 5 new projects (2023)</li>
                    </ul>
                </div>

                <div class="card-hover bg-gradient-to-br from-yellow-500 to-orange-600 text-white p-6 rounded-lg shadow-lg">
                    <i class="fas fa-bolt text-5xl mb-4"></i>
                    <h3 class="text-xl font-bold mb-4">Energy Access</h3>
                    <ul class="space-y-2">
                        <li>✓ 2,106 institutions electrified</li>
                        <li>✓ 146 more in progress</li>
                        <li>✓ Renewable energy expansion</li>
                    </ul>
                </div>
            </div>

            <!-- Infrastructure Progress Tracker -->
            <div class="bg-gray-100 dark:bg-gray-800 p-8 rounded-lg shadow-lg">
                <h3 class="text-2xl font-bold mb-6 text-primary dark:text-secondary">Infrastructure Progress Tracker</h3>
                <p class="mb-6 text-gray-700 dark:text-gray-300">Real-time tracking of major infrastructure projects across Zimbabwe with interactive map</p>

                <!-- Filter Buttons -->
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="filter-btn px-4 py-2 rounded-lg bg-primary text-white transition" data-type="all">All Projects</button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-primary hover:text-white transition" data-type="Water Security">Water Security</button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-primary hover:text-white transition" data-type="Transport">Transport</button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-primary hover:text-white transition" data-type="Energy">Energy</button>
                    <button class="filter-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-primary hover:text-white transition" data-type="Industrial">Industrial</button>
                </div>

                <!-- Province Buttons -->
                <h4 class="font-bold mb-4 text-accent dark:text-secondary">Projects by Province</h4>
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="province-btn px-4 py-2 rounded-lg bg-secondary text-primary transition" data-province="all">All Provinces</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Harare">Harare</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Bulawayo">Bulawayo</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Mashonaland East">Mash East</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Mashonaland West">Mash West</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Mashonaland Central">Mash Central</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Midlands">Midlands</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Masvingo">Masvingo</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Matabeleland South">Mat South</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Matabeleland North">Mat North</button>
                    <button class="province-btn px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 hover:bg-secondary hover:text-primary transition" data-province="Manicaland">Manicaland</button>
                </div>

                <!-- Map Info -->
                <div class="bg-blue-50 dark:bg-blue-900 border-l-4 border-blue-500 p-4 mb-4 rounded">
                    <div class="flex items-start">
                        <i class="fas fa-info-circle text-blue-500 text-xl mr-3 mt-1"></i>
                        <div>
                            <p class="text-sm text-blue-900 dark:text-blue-100">
                                <strong>Interactive Map:</strong> Click on colored markers to view project details.
                                <span class="inline-flex items-center gap-2 ml-2">
                                    <span class="w-3 h-3 rounded-full bg-primary inline-block"></span> Transport
                                    <span class="w-3 h-3 rounded-full bg-secondary inline-block"></span> Energy
                                    <span class="w-3 h-3 rounded-full" style="background-color: #3b82f6;"></span> Water
                                    <span class="w-3 h-3 rounded-full bg-accent inline-block"></span> Industrial
                                </span>
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Map Container -->
                <div id="infrastructure-map" class="map-container mb-6"></div>

                <!-- Projects Grid -->
                <div id="projects-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Dynamic content loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Investor's Guide -->
    <section id="investors" class="py-16 bg-gradient-to-br from-primary to-green-800 text-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8 text-secondary">Investor's Guide</h2>
            <p class="text-center mb-12 text-lg max-w-3xl mx-auto">Discover high-potential investment opportunities across Zimbabwe's key economic sectors</p>
            <div id="investors-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- Dynamic content loaded here -->
            </div>
        </div>
    </section>

    <!-- Latest News & Updates -->
    <section id="news" class="py-16 bg-secondary">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary">Latest News & Updates</h2>
            <p class="text-center mb-12 text-lg text-primary max-w-3xl mx-auto">Stay informed on Zimbabwe's economic progress and development milestones</p>
            <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Dynamic content loaded here -->
            </div>
        </div>
    </section>

    <!-- Resources & Downloads -->
    <section class="py-16 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary dark:text-secondary">Resources & Downloads</h2>
            <p class="text-center mb-12 text-lg max-w-3xl mx-auto">Access official documents, reports, and publications related to Zimbabwe's Vision 2030</p>

            <!-- Featured Resource Link -->
            <div class="mb-8 max-w-4xl mx-auto">
                <a href="https://zimtreasury.co.zw/policies-publications/" target="_blank" class="block bg-gradient-to-r from-primary to-secondary hover:from-secondary hover:to-primary text-white p-6 rounded-lg shadow-xl transition-all duration-300 transform hover:scale-105">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-book-open text-5xl mr-6"></i>
                            <div>
                                <h3 class="text-2xl font-bold mb-2">Zimbabwe Treasury - Official Policies & Publications</h3>
                                <p class="text-lg opacity-90">Access comprehensive economic reports, policy documents, and official publications</p>
                            </div>
                        </div>
                        <i class="fas fa-external-link-alt text-3xl"></i>
                    </div>
                </a>
            </div>

            <div id="resources-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Dynamic content loaded here -->
            </div>
        </div>
    </section>

    <!-- AI Assistant -->
    <section class="py-16 bg-primary text-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8 text-secondary">Ask Vision 2030 Assistant</h2>
            <p class="text-center mb-8 text-lg max-w-3xl mx-auto">Get instant answers about Zimbabwe's economic development, programs, and progress</p>

            <div class="max-w-3xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6">
                <div class="flex items-center mb-4">
                    <i class="fas fa-robot text-3xl text-primary dark:text-secondary mr-3"></i>
                    <div>
                        <h3 class="font-bold text-lg text-gray-900 dark:text-white">AI-Powered Assistant</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Powered by Claude-Sonnet-4.5</p>
                    </div>
                </div>

                <div id="chat-messages" class="bg-gray-100 dark:bg-gray-700 rounded-lg p-4 h-80 overflow-y-auto mb-4">
                    <div class="text-center text-gray-500 dark:text-gray-400 py-8">
                        <i class="fas fa-comment-dots text-4xl mb-3"></i>
                        <p>Ask me anything about Zimbabwe's Vision 2030!</p>
                    </div>
                </div>

                <div class="flex mb-4">
                    <input type="text" id="user-question" placeholder="Type your question..." class="flex-1 px-4 py-3 rounded-l-lg border-2 border-gray-300 dark:border-gray-600 focus:border-primary focus:outline-none text-gray-900 dark:text-white dark:bg-gray-700 text-base" >
                    <button onclick="askQuestion()" class="bg-primary hover:bg-secondary text-white px-6 py-3 rounded-r-lg font-semibold transition">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>

                <!-- Quick Questions -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-2">
                    <button onclick="askQuestion('What is Vision 2030?')" class="px-3 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-primary hover:text-white rounded text-sm transition text-gray-900 dark:text-white">What is Vision 2030?</button>
                    <button onclick="askQuestion('NDS1 Achievements')" class="px-3 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-primary hover:text-white rounded text-sm transition text-gray-900 dark:text-white">NDS1 Achievements</button>
                    <button onclick="askQuestion('Current GDP Growth')" class="px-3 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-primary hover:text-white rounded text-sm transition text-gray-900 dark:text-white">GDP Growth</button>
                    <button onclick="askQuestion('Infrastructure Projects')" class="px-3 py-2 bg-gray-200 dark:bg-gray-600 hover:bg-primary hover:text-white rounded text-sm transition text-gray-900 dark:text-white">Infrastructure</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact & Feedback -->
    <section class="py-16 bg-gray-100 dark:bg-gray-800">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-primary dark:text-secondary">Feedback & Contact</h2>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-5xl mx-auto">
                <div class="bg-white dark:bg-gray-700 p-8 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-6 text-primary dark:text-secondary">
                        <i class="fas fa-comment-dots mr-2"></i>Send Feedback
                    </h3>
                    <form id="feedback-form">
                        <input type="text" id="feedback-name" placeholder="Your Name" class="w-full mb-4 px-4 py-3 border rounded-lg focus:outline-none focus:border-primary text-base" required >
                        <input type="email" id="feedback-email" placeholder="Email Address" class="w-full mb-4 px-4 py-3 border rounded-lg focus:outline-none focus:border-primary text-base" required >
                        <select id="feedback-category" class="w-full mb-4 px-4 py-3 border rounded-lg focus:outline-none focus:border-primary text-base">
                            <option>General Feedback</option>
                            <option>Suggestion</option>
                            <option>Technical Issue</option>
                            <option>Data Update Request</option>
                        </select>
                        <textarea id="feedback-message" placeholder="Your Message" class="w-full mb-4 px-4 py-3 border rounded-lg focus:outline-none focus:border-primary text-base" rows="4" required></textarea>
                        <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition">
                            <i class="fab fa-whatsapp mr-2"></i>Send via WhatsApp
                        </button>
                    </form>
                    <div id="feedback-response" class="hidden mt-4"></div>
                </div>

                <div class="bg-white dark:bg-gray-700 p-8 rounded-lg shadow-lg">
                    <h3 class="font-bold text-xl mb-6 text-primary dark:text-secondary">
                        <i class="fas fa-address-card mr-2"></i>Contact Information
                    </h3>
                    <div class="space-y-4 text-gray-700 dark:text-gray-300">
                        <div>
                            <p class="font-semibold mb-2"><i class="fas fa-map-marker-alt mr-2 text-accent"></i>Address:</p>
                            <p>5393, Clapham road<br>Tynawald<br>Harare, Zimbabwe</p>
                        </div>
                        <div>
                            <p class="font-semibold mb-2"><i class="fas fa-phone mr-2 text-accent"></i>Phone:</p>
                            <p>+263 713 994 347</p>
                        </div>
                        <div>
                            <p class="font-semibold mb-2"><i class="fas fa-envelope mr-2 text-accent"></i>Email:</p>
                            <p>chiondegwabm@gmail.com</p>
                        </div>
                        <div>
                            <p class="font-semibold mb-2"><i class="fas fa-globe mr-2 text-accent"></i>Website:</p>
                            <p>https://nev-tech-technologies.netlify.app</p>
                        </div>
                    </div>

                    <!-- Social Links -->
                    <div class="mt-8">
                        <p class="font-semibold mb-4 text-gray-700 dark:text-gray-300">Follow Us:</p>
                        <div class="flex justify-center space-x-4">
                            <a href="https://www.facebook.com/nevanjimunya.chiondegwa" target="_blank" class="text-3xl text-blue-600 hover:text-blue-800 transition">
                                <i class="fab fa-facebook"></i>
                            </a>
                            <a href="https://www.linkedin.com/in/bloodshed-munyaradzi-chiondegwa" target="_blank" class="text-3xl text-blue-700 hover:text-blue-900 transition">
                                <i class="fab fa-linkedin"></i>
                            </a>
                            <a href="https://x.com/NNehoreka" target="_blank" class="text-3xl text-blue-400 hover:text-blue-600 transition">
                                <i class="fab fa-twitter"></i>
                            </a>
                            <a href="https://www.youtube.com/@munyaradzichiondegwa4015" target="_blank" class="text-3xl text-red-600 hover:text-red-800 transition">
                                <i class="fab fa-youtube"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-primary text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="font-bold text-xl mb-4 text-secondary">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#home" class="hover:text-secondary transition">Home</a></li>
                        <li><a href="#overview" class="hover:text-secondary transition">Overview</a></li>
                        <li><a href="#economy" class="hover:text-secondary transition">Economy</a></li>
                        <li><a href="#programs" class="hover:text-secondary transition">Programs</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-xl mb-4 text-secondary">Programs</h3>
                    <ul class="space-y-2">
                        <li><a href="#" onclick="openModal('tsp')" class="hover:text-secondary transition">TSP (2018-2020)</a></li>
                        <li><a href="#" onclick="openModal('nds1')" class="hover:text-secondary transition">NDS1 (2021-2025)</a></li>
                        <li><a href="#" onclick="openModal('nds2')" class="hover:text-secondary transition">NDS2 (2026-2030)</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-xl mb-4 text-secondary">Sectors</h3>
                    <ul class="space-y-2">
                        <li><a href="#sectors" class="hover:text-secondary transition">Manufacturing</a></li>
                        <li><a href="#sectors" class="hover:text-secondary transition">Agriculture</a></li>
                        <li><a href="#sectors" class="hover:text-secondary transition">Mining</a></li>
                        <li><a href="#sectors" class="hover:text-secondary transition">Tourism</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-bold text-xl mb-4 text-secondary">Contact</h3>
                    <p class="text-sm">Nev-Tech technologies<br>5393, Clapham Road, Tynwald<br>Harare, Zimbabwe<br>+263 713 794 347</p>
                </div>
            </div>

            <div class="border-t border-secondary pt-8 text-center">
                <p class="mb-2">&copy; 2025 | Munyaradzi Chiondegwa | Zimbabwe Vision 2030. All Rights Reserved.</p>
                <p class="text-sm text-secondary mb-2">Data sources: IMF, World Bank, ZIMSTAT, AfDB, Government of Zimbabwe</p>
                <p class="text-xs text-gray-300" id="footer-datetime">
                    <i class="far fa-clock mr-1"></i><span id="current-datetime"></span>
                </p>
            </div>
        </div>
    </footer>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-3xl text-gray-600 dark:text-gray-300 hover:text-accent transition">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- Main Application Script -->
    <script>
        // Application Data
        let appData = null;
        let currentSlide = 0;
        let slideInterval = null;
        let map = null;
        let currentProjects = [];

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async () => {
            initializeDarkMode();
            initializeMobileMenu();
            initializeHeroSlideshow();
            updateFooterDateTime();
            await loadApplicationData();
            initializeEventListeners();
        });

        // Dark Mode Toggle
        function initializeDarkMode() {
            const darkToggle = document.getElementById('dark-toggle');
            const htmlElement = document.documentElement;

            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                htmlElement.classList.add('dark');
                darkToggle.innerHTML = '<i class="fas fa-sun"></i>';
            }

            darkToggle.addEventListener('click', () => {
                htmlElement.classList.toggle('dark');
                darkToggle.innerHTML = htmlElement.classList.contains('dark')
                    ? '<i class="fas fa-sun"></i>'
                    : '<i class="fas fa-moon"></i>';
            });

            window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                if (e.matches) {
                    htmlElement.classList.add('dark');
                    darkToggle.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    htmlElement.classList.remove('dark');
                    darkToggle.innerHTML = '<i class="fas fa-moon"></i>';
                }
            });
        }

        // Mobile Menu
        function initializeMobileMenu() {
            const menuToggle = document.getElementById('mobile-menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');

            menuToggle.addEventListener('click', () => {
                mobileMenu.classList.toggle('active');
                const icon = menuToggle.querySelector('i');
                icon.classList.toggle('fa-bars');
                icon.classList.toggle('fa-times');
            });

            // Close menu when clicking a link
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.remove('active');
                    menuToggle.querySelector('i').classList.add('fa-bars');
                    menuToggle.querySelector('i').classList.remove('fa-times');
                });
            });
        }

        // Hero Slideshow - Automatic random rotation
        function initializeHeroSlideshow() {
            const slides = document.querySelectorAll('.hero-slide');
            let currentIndex = 0;
            const slideOrder = [];

            // Create array of slide indices
            for (let i = 0; i < slides.length; i++) {
                slideOrder.push(i);
            }

            // Shuffle the array (Fisher-Yates shuffle)
            function shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            // Shuffle slides on load
            let shuffledOrder = shuffleArray(slideOrder);

            function showSlide(index) {
                slides.forEach(slide => {
                    slide.style.opacity = '0';
                });
                slides[shuffledOrder[index]].style.opacity = '1';
            }

            function nextSlide() {
                currentIndex = (currentIndex + 1) % slides.length;

                // Re-shuffle when we complete a cycle
                if (currentIndex === 0) {
                    shuffledOrder = shuffleArray(slideOrder);
                }

                showSlide(currentIndex);
            }

            // Show first slide
            showSlide(0);

            // Auto-advance every 4 seconds with random selection
            slideInterval = setInterval(nextSlide, 4000);

            // Pause on hover
            const heroSection = document.querySelector('.hero-slideshow');
            heroSection.addEventListener('mouseenter', () => clearInterval(slideInterval));
            heroSection.addEventListener('mouseleave', () => {
                slideInterval = setInterval(nextSlide, 4000);
            });
        }

        // Update footer date/time
        function updateFooterDateTime() {
            function updateTime() {
                const now = new Date();
                const options = {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit',
                    hour12: true
                };
                const dateTimeString = now.toLocaleDateString('en-US', options);
                document.getElementById('current-datetime').textContent = dateTimeString;
            }

            updateTime();
            setInterval(updateTime, 1000); // Update every second
        }

        // Load Application Data
        async function loadApplicationData() {
            try {
                // Comprehensive Zimbabwe Vision 2030 data
                appData = {
                    economicData: {
                        gdp: {
                            current: 45.7,
                            projected2025: 48.5,
                            growthRate2024: 2.0,
                            growthRate2025: 6.0,
                            perCapitaIncome2025: 3000
                        },
                        inflation: {
                            monthly2024Avg: 24.9,
                            monthly2025Avg: 2.5,
                            target: 3.0
                        },
                        sectors: [
                            {
                                name: 'Manufacturing',
                                gdpContribution: 15.3,
                                growth: 200,
                                icon: 'fa-industry',
                                color: 'from-blue-500 to-blue-700',
                                details: '$1.4B+ in new investments. Capacity utilization at 57.3%. Leading sectors: steel, cement, FMCG. 200%+ output growth since 2019.',
                                opportunities: 'Joint ventures in steel production, cement manufacturing, value addition in agriculture, pharmaceutical manufacturing. Special Economic Zones offer tax incentives.'
                            },
                            {
                                name: 'Agriculture',
                                gdpContribution: 12.8,
                                growth: 45,
                                icon: 'fa-seedling',
                                color: 'from-green-500 to-green-700',
                                details: 'Record wheat harvest: 600,045 MT achieving self-sufficiency. Tobacco: 355M kg earning $1.17B. 85% household food security achieved. Dairy self-sufficiency by 2025.',
                                opportunities: 'Agro-processing, irrigation systems, horticulture exports, livestock development, agricultural machinery distribution. Government-backed schemes available.'
                            },
                            {
                                name: 'Mining',
                                gdpContribution: 14.5,
                                growth: 35,
                                icon: 'fa-gem',
                                color: 'from-yellow-500 to-orange-600',
                                details: 'Accounts for 2/3 of export earnings. 1.5M artisanal miners empowered. Africa\'s largest lithium reserves. Major minerals: gold, diamonds, lithium, platinum, chrome.',
                                opportunities: 'Lithium processing and battery manufacturing, gold refining, diamond cutting and polishing, chrome beneficiation. Mining equipment supply and services.'
                            },
                            {
                                name: 'Tourism',
                                gdpContribution: 9.5,
                                growth: 55,
                                icon: 'fa-umbrella-beach',
                                color: 'from-purple-500 to-pink-600',
                                details: 'Forbes #1 destination 2025. Open Skies Policy success with 22 airlines operating. Victoria Falls, Great Zimbabwe, Hwange National Park, cultural heritage sites.',
                                opportunities: 'Hotel and lodge development, tour operations, conference facilities, eco-tourism, adventure tourism. Incentives for hospitality investors.'
                            },
                            {
                                name: 'Services',
                                gdpContribution: 35.0,
                                growth: 18,
                                icon: 'fa-briefcase',
                                color: 'from-indigo-500 to-blue-600',
                                details: 'Financial services, telecommunications, retail, education, healthcare. Digital transformation accelerating. Fintech and mobile money growth.',
                                opportunities: 'ICT infrastructure, digital services, healthcare facilities, education institutions, financial technology, business process outsourcing.'
                            },
                            {
                                name: 'Energy',
                                gdpContribution: 6.4,
                                growth: 40,
                                icon: 'fa-bolt',
                                color: 'from-red-500 to-orange-600',
                                details: 'Renewable energy expansion. Solar projects nationwide. Hydro capacity enhancement. 2,106 institutions electrified since 2017. 146 more in progress.',
                                opportunities: 'Solar power generation, hydro projects, off-grid solutions, transmission infrastructure, energy storage systems. Feed-in tariffs available.'
                            },
                            {
                                name: 'Construction',
                                gdpContribution: 4.5,
                                growth: 65,
                                icon: 'fa-building',
                                color: 'from-gray-600 to-gray-800',
                                details: 'Infrastructure boom driven by Vision 2030. Dams, roads, housing, commercial developments. DISCO Steel Plant ($1.5B) largest project.',
                                opportunities: 'Residential and commercial property development, infrastructure contractors, building materials supply, real estate investment.'
                            },
                            {
                                name: 'ICT',
                                gdpContribution: 2.0,
                                growth: 95,
                                icon: 'fa-laptop-code',
                                color: 'from-cyan-500 to-blue-600',
                                details: 'Digital economy growing rapidly. Mobile penetration 90%+. E-government initiatives. Tech hubs in Harare and Bulawayo. Innovation ecosystem expanding.',
                                opportunities: 'Software development, data centers, telecommunications infrastructure, digital platforms, fintech solutions, e-commerce platforms.'
                            }
                        ]
                    },
                    programs: [
                        {
                            id: 'tsp',
                            name: 'TSP 2018-2020',
                            fullName: 'Transitional Stabilisation Programme',
                            status: 'Completed',
                            description: 'Foundation phase focused on stabilizing the economy, restoring confidence, and establishing macroeconomic stability.',
                            clusters: [
                                {
                                    name: 'Fiscal Stabilization',
                                    achievements: [
                                        'Reduced fiscal deficit from 11.7% to 4.2% of GDP',
                                        'Implemented zero-based budgeting',
                                        'Streamlined government expenditure',
                                        'Enhanced revenue collection systems'
                                    ]
                                },
                                {
                                    name: 'Currency Reforms',
                                    achievements: [
                                        'Reintroduced Zimbabwe Dollar (2019)',
                                        'Established foundation for ZiG currency',
                                        'Improved monetary policy framework',
                                        'Strengthened foreign exchange management'
                                    ]
                                },
                                {
                                    name: 'Institutional Reforms',
                                    achievements: [
                                        'Restructured state enterprises',
                                        'Enhanced anti-corruption mechanisms',
                                        'Improved ease of doing business',
                                        'Strengthened financial sector oversight'
                                    ]
                                }
                            ],
                            keyAchievements: [
                                'Inflation reduced to manageable levels',
                                'Budget deficit cut by 65%',
                                'Foundation laid for NDS1',
                                'International re-engagement initiated'
                            ]
                        },
                        {
                            id: 'nds1',
                            name: 'NDS1 2021-2025',
                            fullName: 'National Development Strategy 1',
                            status: 'Final Year (2025)',
                            description: 'Medium-term plan accelerating economic growth through structural reforms and infrastructure development.',
                            clusters: [
                                {
                                    name: 'Economic Growth & Stability',
                                    achievements: [
                                        'Average 6.3% annual GDP growth achieved',
                                        'Manufacturing now largest GDP contributor (15.3%)',
                                        'Inflation stabilized through ZiG currency',
                                        'Foreign reserves improved significantly'
                                    ]
                                },
                                {
                                    name: 'Job Creation & Employment',
                                    achievements: [
                                        '820,000+ formal jobs created',
                                        'Youth employment programs launched',
                                        'SME support schemes established',
                                        'Informal sector formalization ongoing'
                                    ]
                                },
                                {
                                    name: 'Infrastructure Development',
                                    achievements: [
                                        'Kunzvi Dam: 65% complete',
                                        'Gwayi-Shangani Dam: 72.4% complete',
                                        'Lake Gwayi-Tshangani: 50% complete',
                                        '2,106 institutions electrified',
                                        'Major road rehabilitation projects',
                                        'Trabablas Interchange completed'
                                    ]
                                },
                                {
                                    name: 'Food Security & Agriculture',
                                    achievements: [
                                        'Record wheat production: 600,045 MT',
                                        'Tobacco exports: 355M kg ($1.17B)',
                                        '85% household food security achieved',
                                        'Dairy self-sufficiency target on track'
                                    ]
                                },
                                {
                                    name: 'Investment & Industrialization',
                                    achievements: [
                                        '$1.4B+ manufacturing investments',
                                        'DISCO Steel Plant development ($1.5B)',
                                        'Capacity utilization up to 57.3%',
                                        'Special Economic Zones operational'
                                    ]
                                }
                            ],
                            keyAchievements: [
                                '6.3% average annual growth (exceeded target)',
                                '820,000+ jobs created',
                                'Manufacturing leads GDP at 15.3%',
                                'Record agricultural output',
                                'Major infrastructure milestones'
                            ]
                        },
                        {
                            id: 'nds2',
                            name: 'NDS2 2026-2030',
                            fullName: 'National Development Strategy 2',
                            status: 'In Planning',
                            description: 'Final phase to achieve upper middle-income status and fully realize Vision 2030 goals.',
                            clusters: [
                                {
                                    name: 'Economic Transformation',
                                    objectives: [
                                        'Achieve 8%+ annual GDP growth',
                                        'Transition to mono-currency system',
                                        'Enhance export competitiveness',
                                        'Deepen regional integration (AfCFTA)'
                                    ]
                                },
                                {
                                    name: 'Job Creation & Poverty Reduction',
                                    objectives: [
                                        'Create 2 million additional jobs',
                                        'Halve poverty rate (below 20%)',
                                        'Increase per capita income to $3,500+',
                                        'Expand social protection programs'
                                    ]
                                },
                                {
                                    name: 'Infrastructure Completion',
                                    objectives: [
                                        'Complete Lake Gwayi-Tshangani',
                                        'Expand energy generation capacity',
                                        'Modernize transport networks',
                                        'Enhance digital infrastructure'
                                    ]
                                },
                                {
                                    name: 'Governance & Institutional Strength',
                                    objectives: [
                                        'Enhance property rights enforcement',
                                        'Deepen anti-corruption reforms',
                                        'Improve public service delivery',
                                        'Strengthen rule of law'
                                    ]
                                },
                                {
                                    name: 'Sustainable Development',
                                    objectives: [
                                        'Climate resilience measures',
                                        'Green energy transition',
                                        'Environmental conservation',
                                        'Circular economy initiatives'
                                    ]
                                }
                            ],
                            keyTargets: [
                                'Upper middle-income status by 2030',
                                '2 million new jobs',
                                'Poverty below 20%',
                                'Mono-currency system',
                                '$10B+ infrastructure investment'
                            ]
                        }
                    ],
                    infrastructure: [],
                    news: [
                        {
                            date: 'October 2025',
                            title: 'IMF Praises Economic Reforms',
                            summary: 'IMF Executive Board concludes 2025 Article IV consultation, commending Zimbabwe\'s macroeconomic stability improvements, disciplined monetary policy, and ZiG currency stabilization.',
                            category: 'Economic Stability',
                            link: 'https://www.imf.org/en/News/Articles/2025/zimbabwe-article-iv'
                        },
                        {
                            date: '2025',
                            title: 'Record Agricultural Output',
                            summary: 'Zimbabwe achieves record-breaking harvests: 600,045 MT wheat (self-sufficiency secured) and 355 million kg tobacco ($1.17B export earnings), ensuring food sovereignty.',
                            category: 'Food Security',
                            link: 'https://www.herald.co.zw/zimbabwe-achieves-wheat-self-sufficiency/'
                        },
                        {
                            date: '2025',
                            title: 'Manufacturing Leads GDP Growth',
                            summary: 'Following GDP rebasing by ZIMSTAT, manufacturing sector emerges as largest GDP contributor at 15.3%, driven by $1.4B+ investments and 200% production increase since 2019.',
                            category: 'Industrial Growth',
                            link: 'https://www.zimstat.co.zw/manufacturing-sector-report/'
                        },
                        {
                            date: '2025',
                            title: 'Forbes Names Zimbabwe #1 Destination',
                            summary: 'Tourism sector soars as Zimbabwe ranks world\'s #1 travel destination by Forbes Magazine. Open Skies Policy attracts 22 international airlines.',
                            category: 'Tourism',
                            link: 'https://www.forbes.com/best-destinations-2025/'
                        },
                        {
                            date: 'September 2024',
                            title: 'Cabinet Approves NDS2 Roadmap',
                            summary: 'Cabinet approves comprehensive roadmap for NDS2 (2026-2030), building on NDS1 achievements. Focus on fiscal discipline, inclusive growth, and achieving Vision 2030 targets.',
                            category: 'Policy',
                            link: 'https://www.zim.gov.zw/nds2-roadmap-approved/'
                        },
                        {
                            date: '2025',
                            title: 'DISCO Steel Plant Development',
                            summary: '$1.5 billion Dinson Iron & Steel Company emerges as Africa\'s largest steel plant, creating 2,000+ jobs and positioning Zimbabwe as major regional steel producer.',
                            category: 'Industrial Development',
                            link: 'https://www.herald.co.zw/disco-steel-plant-progress/'
                        }
                    ],
                    resources: [
                        {
                            title: 'State of the Economy Presentation (Oct 2025)',
                            description: 'Comprehensive economic progress report by Hon. Prof. M. Ncube',
                            size: '8.5 MB',
                            category: 'Reports',
                            icon: 'fa-file-pdf',
                            url: 'https://zimtreasury.co.zw/documents/state-of-economy-2025.pdf'
                        },
                        {
                            title: 'NDS1 Progress Report 2021-2024',
                            description: 'Detailed assessment of NDS1 implementation and achievements',
                            size: '15.2 MB',
                            category: 'Strategy Documents',
                            icon: 'fa-file-pdf',
                            url: 'https://www.zimtreasury.gov.zw/nds1-progress-report'
                        },
                        {
                            title: '2025 Infrastructure Investment Programme',
                            description: 'Comprehensive infrastructure development programme for 2025',
                            size: '12.3 MB',
                            category: 'Infrastructure',
                            icon: 'fa-file-pdf',
                            url: 'https://zimtreasury.co.zw/wp-content/uploads/2024/11/2025-INFRASTRUCTURE-Development-Programme.pdf'
                        },
                        {
                            title: 'Vision 2030 Framework Document',
                            description: 'Official Zimbabwe Vision 2030 strategic framework',
                            size: '6.8 MB',
                            category: 'Strategy Documents',
                            icon: 'fa-file-pdf',
                            url: 'https://www.zim.gov.zw/vision2030-framework'
                        },
                        {
                            title: 'Investment Opportunities Guide 2025',
                            description: 'Comprehensive guide for investors across key sectors',
                            size: '10.5 MB',
                            category: 'Investment',
                            icon: 'fa-file-pdf',
                            url: 'https://www.investzim.com/opportunities-guide-2025'
                        },
                        {
                            title: 'ZIMSTAT Economic Report Q3 2025',
                            description: 'Latest economic statistics and indicators from ZIMSTAT',
                            size: '5.2 MB',
                            category: 'Economic Data',
                            icon: 'fa-chart-bar',
                            url: 'https://www.zimstat.co.zw/economic-report-q3-2025'
                        }
                    ]
                };

                // Generate comprehensive infrastructure data with provinces
                appData.infrastructure = generateInfrastructureData();

                // Render all dynamic content
                renderEconomicStats();
                renderEconomicHighlights();
                renderCharts();
                renderPrograms();
                renderSectors();
                renderInfrastructure();
                renderInvestors();
                renderNews();
                renderResources();

            } catch (error) {
                console.error('Error loading data:', error);
                showNotification('Error loading application data', 'error');
            }
        }

        // Generate Infrastructure Data
        function generateInfrastructureData() {
            const provinces = ['Harare', 'Bulawayo', 'Mashonaland East', 'Mashonaland West', 'Mashonaland Central',
                             'Midlands', 'Masvingo', 'Matabeleland South', 'Matabeleland North', 'Manicaland'];
            const types = ['Water Security', 'Transport', 'Energy', 'Industrial'];
            const projects = [];

            // Major known projects with accurate coordinates
            const majorProjects = [
                { name: 'Kunzvi Dam', type: 'Water Security', progress: 65, province: 'Mashonaland East', lat: -17.7500, lng: 31.3000 },
                { name: 'Gwayi-Shangani Dam', type: 'Water Security', progress: 72.4, province: 'Matabeleland North', lat: -18.8500, lng: 27.4500 },
                { name: 'Lake Gwayi-Tshangani', type: 'Water Security', progress: 50, province: 'Matabeleland North', lat: -18.9200, lng: 27.5800 },
                { name: 'Trabablas Interchange', type: 'Transport', progress: 100, province: 'Harare', lat: -17.8378, lng: 31.0469 },
                { name: 'DISCO Steel Plant', type: 'Industrial', progress: 45, province: 'Midlands', lat: -19.0152, lng: 29.9947 },
                { name: 'Hwange Power Station', type: 'Energy', progress: 85, province: 'Matabeleland North', lat: -18.3647, lng: 26.5000 },
                { name: 'Beitbridge-Chirundu Highway', type: 'Transport', progress: 70, province: 'Matabeleland South', lat: -20.8500, lng: 28.2000 },
                { name: 'Robert Mugabe International Airport Expansion', type: 'Transport', progress: 60, province: 'Harare', lat: -17.9318, lng: 31.0928 },
                { name: 'Kariba South Power Station', type: 'Energy', progress: 90, province: 'Mashonaland West', lat: -16.5167, lng: 28.8000 },
                { name: 'Tokwe Mukosi Dam', type: 'Water Security', progress: 95, province: 'Masvingo', lat: -20.7833, lng: 31.0167 }
            ];

            projects.push(...majorProjects);

            // Province center coordinates for generating additional projects
            const provinceCoords = {
                'Harare': { lat: -17.8378, lng: 31.0469 },
                'Bulawayo': { lat: -20.1500, lng: 28.5833 },
                'Mashonaland East': { lat: -17.8000, lng: 31.5000 },
                'Mashonaland West': { lat: -17.9000, lng: 29.8000 },
                'Mashonaland Central': { lat: -17.2000, lng: 31.0000 },
                'Midlands': { lat: -19.0000, lng: 30.0000 },
                'Masvingo': { lat: -20.0667, lng: 30.8333 },
                'Matabeleland South': { lat: -21.0000, lng: 28.0000 },
                'Matabeleland North': { lat: -18.5000, lng: 27.5000 },
                'Manicaland': { lat: -18.9667, lng: 32.6667 }
            };

            // Generate additional projects for each province (5+ per province)
            provinces.forEach(province => {
                const center = provinceCoords[province];
                const provinceProjects = [
                    {
                        name: `${province} Road Rehabilitation`,
                        type: 'Transport',
                        progress: Math.floor(Math.random() * 40 + 40),
                        province,
                        lat: center.lat + (Math.random() - 0.5) * 0.5,
                        lng: center.lng + (Math.random() - 0.5) * 0.5
                    },
                    {
                        name: `${province} Rural Electrification`,
                        type: 'Energy',
                        progress: Math.floor(Math.random() * 30 + 60),
                        province,
                        lat: center.lat + (Math.random() - 0.5) * 0.5,
                        lng: center.lng + (Math.random() - 0.5) * 0.5
                    },
                    {
                        name: `${province} Water Supply Upgrade`,
                        type: 'Water Security',
                        progress: Math.floor(Math.random() * 35 + 50),
                        province,
                        lat: center.lat + (Math.random() - 0.5) * 0.5,
                        lng: center.lng + (Math.random() - 0.5) * 0.5
                    },
                    {
                        name: `${province} Industrial Park`,
                        type: 'Industrial',
                        progress: Math.floor(Math.random() * 40 + 30),
                        province,
                        lat: center.lat + (Math.random() - 0.5) * 0.5,
                        lng: center.lng + (Math.random() - 0.5) * 0.5
                    },
                    {
                        name: `${province} Bridge Construction`,
                        type: 'Transport',
                        progress: Math.floor(Math.random() * 30 + 55),
                        province,
                        lat: center.lat + (Math.random() - 0.5) * 0.5,
                        lng: center.lng + (Math.random() - 0.5) * 0.5
                    },
                    {
                        name: `${province} Solar Power Project`,
                        type: 'Energy',
                        progress: Math.floor(Math.random() * 40 + 45),
                        province,
                        lat: center.lat + (Math.random() - 0.5) * 0.5,
                        lng: center.lng + (Math.random() - 0.5) * 0.5
                    }
                ];

                projects.push(...provinceProjects);
            });

            return projects;
        }

        // Render Economic Stats
        function renderEconomicStats() {
            const container = document.getElementById('economic-stats');
            const stats = [
                {
                    icon: 'fa-chart-line',
                    title: 'GDP Growth',
                    value: appData.economicData.gdp.growthRate2025 + '%',
                    subtitle: 'Projected 2025',
                    color: 'text-green-600'
                },
                {
                    icon: 'fa-dollar-sign',
                    title: 'GDP (2025)',
                    value: '$' + appData.economicData.gdp.projected2025 + 'B',
                    subtitle: 'Projected',
                    color: 'text-secondary'
                },
                {
                    icon: 'fa-users',
                    title: 'Per Capita Income',
                    value: '$' + appData.economicData.gdp.perCapitaIncome2025 + '+',
                    subtitle: 'Target 2025',
                    color: 'text-accent'
                },
                {
                    icon: 'fa-percentage',
                    title: 'Inflation',
                    value: '<' + appData.economicData.inflation.target + '%',
                    subtitle: 'Monthly Avg Target',
                    color: 'text-blue-600'
                }
            ];

            container.innerHTML = stats.map(stat => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg text-center">
                    <i class="fas ${stat.icon} text-4xl ${stat.color} mb-4"></i>
                    <h3 class="text-xl font-bold mb-2">${stat.title}</h3>
                    <p class="text-3xl font-bold ${stat.color} mb-2">${stat.value}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400">${stat.subtitle}</p>
                </div>
            `).join('');
        }

        // Render Economic Highlights
        function renderEconomicHighlights() {
            const container = document.getElementById('economic-highlights');
            const highlights = [
                {
                    title: 'Currency Stabilization',
                    content: 'Introduction of ZiG (Zimbabwe Gold) backed by USD and mineral reserves. Exchange rate stability achieved in 2025.',
                    points: ['Policy rate at 35%', 'Reserve requirements at 30%', 'Parallel market premium reduced']
                },
                {
                    title: 'NDS1 Exceeds Targets',
                    content: 'National Development Strategy 1 surpassed key economic indicators, building strong foundation for NDS2.',
                    points: ['6.3% avg annual growth', '820,000+ jobs created', 'Infrastructure development accelerated']
                },
                {
                    title: 'International Engagement',
                    content: 'IMF praises Zimbabwe\'s economic reforms and macroeconomic stability improvements in 2025.',
                    points: ['Article IV consultation completed', 'Re-engagement progressing', 'Investment promotion enhanced']
                }
            ];

            container.innerHTML = highlights.map(h => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">${h.title}</h3>
                    <p class="mb-4 text-gray-700 dark:text-gray-300">${h.content}</p>
                    <ul class="space-y-1">
                        ${h.points.map(p => `<li class="flex items-start"><i class="fas fa-check text-green-600 mr-2 mt-1"></i><span class="text-sm text-gray-600 dark:text-gray-400">${p}</span></li>`).join('')}
                    </ul>
                </div>
            `).join('');
        }

        // Render Charts
        function renderCharts() {
            // GDP Growth Chart
            const gdpCtx = document.getElementById('gdpChart').getContext('2d');
            new Chart(gdpCtx, {
                type: 'line',
                data: {
                    labels: ['2020', '2021', '2022', '2023', '2024', '2025'],
                    datasets: [{
                        label: 'GDP Growth (%)',
                        data: [-6.0, 8.5, 6.0, 5.0, appData.economicData.gdp.growthRate2024, appData.economicData.gdp.growthRate2025],
                        borderColor: '#1a531b',
                        backgroundColor: 'rgba(26, 83, 27, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { display: true, position: 'bottom' }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.1)' } },
                        x: { grid: { display: false } }
                    }
                }
            });

            // Sector Chart
            const sectorCtx = document.getElementById('sectorChart').getContext('2d');
            const topSectors = appData.economicData.sectors.slice(0, 6);
            new Chart(sectorCtx, {
                type: 'doughnut',
                data: {
                    labels: topSectors.map(s => s.name),
                    datasets: [{
                        data: topSectors.map(s => s.gdpContribution),
                        backgroundColor: [
                            '#1a531b',
                            '#d4af37',
                            '#e31e24',
                            '#3b82f6',
                            '#10b981',
                            '#8b5cf6'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { display: true, position: 'bottom' }
                    }
                }
            });

            // Inflation Chart
            const inflationCtx = document.getElementById('inflationChart').getContext('2d');
            new Chart(inflationCtx, {
                type: 'bar',
                data: {
                    labels: ['2024 Avg', '2025 Avg', 'Target'],
                    datasets: [{
                        label: 'Inflation (%)',
                        data: [appData.economicData.inflation.monthly2024Avg, appData.economicData.inflation.monthly2025Avg, appData.economicData.inflation.target],
                        backgroundColor: ['#e31e24', '#d4af37', '#1a531b']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true, grid: { color: 'rgba(0,0,0,0.1)' } },
                        x: { grid: { display: false } }
                    }
                }
            });
        }

        // Render Programs
        function renderPrograms() {
            const container = document.getElementById('programs-container');
            const statusColors = {
                'Completed': 'bg-green-600',
                'Final Year (2025)': 'bg-yellow-600',
                'In Planning': 'bg-blue-600'
            };

            container.innerHTML = appData.programs.map(p => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg border-t-4 border-primary">
                    <h3 class="text-2xl font-bold mb-3 text-primary dark:text-secondary">${p.name}</h3>
                    <p class="text-lg mb-2 text-gray-700 dark:text-gray-300">${p.fullName}</p>
                    <p class="mb-4 text-gray-600 dark:text-gray-400">${p.description}</p>
                    <div class="mb-4">
                        <span class="inline-block px-3 py-1 ${statusColors[p.status]} text-white text-sm rounded-full">${p.status}</span>
                    </div>
                    <button onclick="openModal('${p.id}')" class="w-full bg-primary hover:bg-secondary text-white py-2 rounded-lg font-semibold transition">
                        View Detailed Information
                    </button>
                </div>
            `).join('');
        }

        // Render Sectors
        function renderSectors() {
            const container = document.getElementById('sectors-container');

            container.innerHTML = appData.economicData.sectors.map(s => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg cursor-pointer" onclick="openModal('sector-${s.name.toLowerCase()}')">
                    <div class="flex items-center mb-4">
                        <i class="fas ${s.icon} text-4xl text-primary dark:text-secondary mr-4"></i>
                        <div>
                            <h3 class="text-xl font-bold text-primary dark:text-secondary">${s.name}</h3>
                            <p class="text-sm text-gray-600 dark:text-gray-400">${s.gdpContribution}% of GDP</p>
                        </div>
                    </div>
                    <div class="mb-3">
                        <div class="flex justify-between text-sm mb-1">
                            <span class="text-gray-600 dark:text-gray-400">Growth</span>
                            <span class="font-bold text-green-600">+${s.growth}%</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
                            <div class="bg-gradient-to-r ${s.color} h-2 rounded-full" style="width: ${Math.min(s.growth, 100)}%"></div>
                        </div>
                    </div>
                    <button class="text-secondary hover:text-accent font-semibold text-sm">
                        Learn More →
                    </button>
                </div>
            `).join('');
        }

        // Render Infrastructure
        function renderInfrastructure() {
            currentProjects = appData.infrastructure;
            renderProjectCards(currentProjects);
            initializeInfrastructureMap();
            setupInfrastructureFilters();
        }

        // Initialize Infrastructure Map
        function initializeInfrastructureMap() {
            if (typeof mapboxgl === 'undefined') {
                console.error('Mapbox GL not loaded');
                return;
            }

            mapboxgl.accessToken = 'pk.eyJ1IjoibmV2YW5qaW11bnlhIiwiYSI6ImNtZ3dxOTdwODBuZjIyaXNiNTI3cTJpd3QifQ.2nRTDUsv3mVoBCHW1PkODA';

            map = new mapboxgl.Map({
                container: 'infrastructure-map',
                style: 'mapbox://styles/mapbox/streets-v12',
                center: [29.8, -19.0],
                zoom: 5.5
            });

            // Add navigation controls (zoom and rotation)
            map.addControl(new mapboxgl.NavigationControl(), 'top-right');

            // Add fullscreen control
            map.addControl(new mapboxgl.FullscreenControl(), 'top-right');

            // Add scale control
            map.addControl(new mapboxgl.ScaleControl({
                maxWidth: 100,
                unit: 'metric'
            }), 'bottom-left');

            map.on('load', () => {
                updateMapMarkers(currentProjects);
            });
        }

        // Update Map Markers
        function updateMapMarkers(projects) {
            if (!map) return;

            // Remove existing markers
            document.querySelectorAll('.mapboxgl-marker').forEach(m => m.remove());

            // Color scheme based on project type (Zimbabwe flag colors)
            const typeColors = {
                'Water Security': '#3b82f6',      // Blue
                'Transport': '#1a531b',            // Green (Zimbabwe flag)
                'Energy': '#d4af37',               // Yellow/Gold (Zimbabwe flag)
                'Industrial': '#e31e24'            // Red (Zimbabwe flag)
            };

            projects.forEach(project => {
                // Use project's lat/lng if available
                const coords = project.lat && project.lng
                    ? [project.lng, project.lat]
                    : [29.8, -19.0]; // Default to center of Zimbabwe

                // Create custom marker element
                const el = document.createElement('div');
                const markerColor = typeColors[project.type] || '#1a531b';
                el.className = 'relative';
                el.innerHTML = `
                    <div class="w-6 h-6 rounded-full border-3 border-white shadow-lg cursor-pointer hover:scale-125 transition-all duration-200"
                         style="background-color: ${markerColor};">
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full border border-gray-300 text-xs flex items-center justify-center"
                             style="font-size: 8px; color: ${markerColor};">
                            ${project.progress >= 90 ? '✓' : ''}
                        </div>
                    </div>
                `;

                // Progress color
                const progressColor = project.progress >= 90 ? '#10b981' :
                                     project.progress >= 50 ? '#f59e0b' : '#ef4444';

                const marker = new mapboxgl.Marker(el)
                    .setLngLat(coords)
                    .setPopup(new mapboxgl.Popup({
                        offset: 25,
                        className: 'custom-popup'
                    })
                    .setHTML(`
                        <div class="p-3 min-w-[200px]">
                            <h4 class="font-bold text-lg mb-1" style="color: ${markerColor};">${project.name}</h4>
                            <div class="flex items-center gap-2 mb-2">
                                <span class="inline-block px-2 py-1 rounded text-xs text-white" style="background-color: ${markerColor};">
                                    ${project.type}
                                </span>
                                <span class="text-xs text-gray-600">
                                    <i class="fas fa-map-marker-alt mr-1"></i>${project.province}
                                </span>
                            </div>
                            <div class="mt-2">
                                <div class="flex justify-between text-xs mb-1">
                                    <span class="font-medium">Progress</span>
                                    <span class="font-bold" style="color: ${progressColor};">${project.progress}%</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 overflow-hidden">
                                    <div class="h-2.5 rounded-full transition-all duration-500"
                                         style="width: ${project.progress}%; background-color: ${progressColor};"></div>
                                </div>
                                <div class="mt-2 text-xs text-gray-500">
                                    ${project.progress >= 90 ? '<i class="fas fa-check-circle text-green-600 mr-1"></i>Near Completion' :
                                      project.progress >= 50 ? '<i class="fas fa-clock text-yellow-600 mr-1"></i>On Track' :
                                      '<i class="fas fa-hammer text-blue-600 mr-1"></i>In Progress'}
                                </div>
                            </div>
                        </div>
                    `))
                    .addTo(map);
            });
        }

        // Render Project Cards
        function renderProjectCards(projects) {
            const container = document.getElementById('projects-container');

            if (projects.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center py-8 text-gray-600 dark:text-gray-400">No projects found matching filters</div>';
                return;
            }

            container.innerHTML = projects.map(p => `
                <div class="card-hover bg-white dark:bg-gray-800 p-5 rounded-lg shadow-lg">
                    <div class="flex items-start justify-between mb-3">
                        <h4 class="font-bold text-primary dark:text-secondary flex-1">${p.name}</h4>
                        <span class="text-xs bg-secondary text-primary px-2 py-1 rounded">${p.type}</span>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">
                        <i class="fas fa-map-marker-alt mr-1"></i>${p.province}
                    </p>
                    <div class="mb-2">
                        <div class="flex justify-between text-sm mb-1">
                            <span class="text-gray-600 dark:text-gray-400">Progress</span>
                            <span class="font-bold text-primary dark:text-secondary">${p.progress}%</span>
                        </div>
                        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5">
                            <div class="bg-primary h-2.5 rounded-full transition-all duration-500" style="width: ${p.progress}%"></div>
                        </div>
                    </div>
                    <div class="mt-3 text-xs text-gray-500 dark:text-gray-400">
                        ${p.progress >= 90 ? '<i class="fas fa-check-circle text-green-600 mr-1"></i>Near Completion' :
                          p.progress >= 50 ? '<i class="fas fa-clock text-yellow-600 mr-1"></i>On Track' :
                          '<i class="fas fa-hammer text-blue-600 mr-1"></i>In Progress'}
                    </div>
                </div>
            `).join('');
        }

        // Setup Infrastructure Filters
        function setupInfrastructureFilters() {
            // Type filters
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.filter-btn').forEach(b => {
                        b.classList.remove('bg-primary', 'text-white');
                        b.classList.add('bg-gray-300', 'dark:bg-gray-600');
                    });
                    btn.classList.add('bg-primary', 'text-white');
                    btn.classList.remove('bg-gray-300', 'dark:bg-gray-600');

                    const type = btn.dataset.type;
                    filterProjects(type, null);
                });
            });

            // Province filters
            document.querySelectorAll('.province-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.province-btn').forEach(b => {
                        b.classList.remove('bg-secondary', 'text-primary');
                        b.classList.add('bg-gray-300', 'dark:bg-gray-600');
                    });
                    btn.classList.add('bg-secondary', 'text-primary');
                    btn.classList.remove('bg-gray-300', 'dark:bg-gray-600');

                    const province = btn.dataset.province;
                    filterProjects(null, province);

                    // Center map on province
                    if (map && province !== 'all') {
                        const provinceCoords = {
                            'Harare': [31.0469, -17.8378],
                            'Bulawayo': [28.5833, -20.15],
                            'Mashonaland East': [31.5, -17.8],
                            'Mashonaland West': [29.8, -17.9],
                            'Mashonaland Central': [31.0, -17.2],
                            'Midlands': [30.0, -19.0],
                            'Masvingo': [30.8333, -20.0667],
                            'Matabeleland South': [28.0, -21.0],
                            'Matabeleland North': [27.5, -18.5],
                            'Manicaland': [32.6667, -18.9667]
                        };

                        if (provinceCoords[province]) {
                            map.flyTo({
                                center: provinceCoords[province],
                                zoom: 8,
                                duration: 2000
                            });
                        }
                    } else if (map) {
                        map.flyTo({
                            center: [29.8, -19.0],
                            zoom: 5.5,
                            duration: 2000
                        });
                    }
                });
            });
        }

        // Filter Projects
        let currentTypeFilter = 'all';
        let currentProvinceFilter = 'all';

        function filterProjects(type, province) {
            if (type !== null) currentTypeFilter = type;
            if (province !== null) currentProvinceFilter = province;

            let filtered = appData.infrastructure;

            if (currentTypeFilter !== 'all') {
                filtered = filtered.filter(p => p.type === currentTypeFilter);
            }

            if (currentProvinceFilter !== 'all') {
                filtered = filtered.filter(p => p.province === currentProvinceFilter);
            }

            currentProjects = filtered;
            renderProjectCards(filtered);
            updateMapMarkers(filtered);
        }

        // Render Investors
        function renderInvestors() {
            const container = document.getElementById('investors-container');

            container.innerHTML = appData.economicData.sectors.map(s => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl cursor-pointer" onclick="openModal('invest-${s.name.toLowerCase()}')">
                    <div class="bg-gradient-to-br ${s.color} text-white p-4 rounded-lg mb-4">
                        <i class="fas ${s.icon} text-4xl"></i>
                    </div>
                    <h3 class="font-bold text-lg mb-2 text-primary dark:text-white">${s.name}</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">GDP Contribution: ${s.gdpContribution}%</p>
                    <div class="text-sm mb-4">
                        <span class="inline-block bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded">
                            +${s.growth}% Growth
                        </span>
                    </div>
                    <button class="w-full bg-primary hover:bg-secondary text-white py-2 rounded-lg font-semibold transition">
                        Explore Opportunities
                    </button>
                </div>
            `).join('');
        }

        // Render News
        function renderNews() {
            const container = document.getElementById('news-container');
            const categoryColors = {
                'Economic Stability': 'bg-blue-600',
                'Food Security': 'bg-green-600',
                'Industrial Growth': 'bg-purple-600',
                'Tourism': 'bg-pink-600',
                'Policy': 'bg-indigo-600',
                'Industrial Development': 'bg-orange-600'
            };

            container.innerHTML = appData.news.map(n => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                    <p class="text-sm text-accent dark:text-secondary mb-2">
                        <i class="far fa-calendar mr-1"></i>${n.date}
                    </p>
                    <h3 class="text-xl font-bold mb-3 text-primary dark:text-white">
                        <a href="${n.link}" target="_blank" class="hover:text-secondary transition">${n.title}</a>
                    </h3>
                    <p class="text-gray-700 dark:text-gray-300 mb-4">${n.summary}</p>
                    <div class="flex items-center justify-between">
                        <span class="inline-block ${categoryColors[n.category] || 'bg-gray-600'} text-white px-3 py-1 rounded-full text-xs">${n.category}</span>
                        <a href="${n.link}" target="_blank" class="text-secondary hover:text-accent font-semibold text-sm flex items-center">
                            Read Full Article <i class="fas fa-external-link-alt ml-1 text-xs"></i>
                        </a>
                    </div>
                </div>
            `).join('');
        }

        // Render Resources
        function renderResources() {
            const container = document.getElementById('resources-container');
            const categoryColors = {
                'Reports': 'text-blue-600',
                'Strategy Documents': 'text-green-600',
                'Infrastructure': 'text-orange-600',
                'Investment': 'text-purple-600',
                'Economic Data': 'text-indigo-600'
            };

            container.innerHTML = appData.resources.map(r => `
                <div class="card-hover bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg">
                    <i class="fas ${r.icon || 'fa-file-pdf'} text-5xl ${categoryColors[r.category] || 'text-primary'} mb-4"></i>
                    <h4 class="font-bold text-lg mb-2 text-primary dark:text-white">${r.title}</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">${r.description}</p>
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-xs text-gray-500 dark:text-gray-400">${r.size}</span>
                        <span class="text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded">${r.category}</span>
                    </div>
                    <a href="${r.url}" target="_blank" class="block w-full bg-primary hover:bg-secondary text-white text-center py-2 rounded-lg font-semibold transition">
                        <i class="fas fa-download mr-2"></i>Download PDF
                    </a>
                </div>
            `).join('');
        }

        // Modal Functions
        function openModal(id) {
            const modal = document.getElementById('modal');
            const modalBody = document.getElementById('modal-body');

            let content = '';

            // Program details
            const program = appData.programs.find(p => p.id === id);
            if (program) {
                content = `
                    <h2 class="text-3xl font-bold mb-4 text-primary dark:text-secondary">${program.fullName}</h2>
                    <p class="text-lg mb-6 text-gray-700 dark:text-gray-300">${program.description}</p>

                    ${program.clusters ? `
                        <h3 class="text-2xl font-bold mb-4 text-primary dark:text-secondary">Implementation Clusters</h3>
                        ${program.clusters.map(cluster => `
                            <div class="mb-6 bg-gray-100 dark:bg-gray-700 p-5 rounded-lg">
                                <h4 class="font-bold text-xl mb-3 text-accent dark:text-secondary">${cluster.name}</h4>
                                ${cluster.achievements ? `
                                    <h5 class="font-semibold mb-2">Key Achievements:</h5>
                                    <ul class="list-disc list-inside space-y-1 mb-3">
                                        ${cluster.achievements.map(a => `<li class="text-gray-700 dark:text-gray-300">${a}</li>`).join('')}
                                    </ul>
                                ` : ''}
                                ${cluster.objectives ? `
                                    <h5 class="font-semibold mb-2">Strategic Objectives:</h5>
                                    <ul class="list-disc list-inside space-y-1">
                                        ${cluster.objectives.map(o => `<li class="text-gray-700 dark:text-gray-300">${o}</li>`).join('')}
                                    </ul>
                                ` : ''}
                            </div>
                        `).join('')}
                    ` : ''}

                    ${program.keyAchievements || program.keyTargets ? `
                        <div class="mt-6 bg-gradient-to-r from-primary to-secondary text-white p-6 rounded-lg">
                            <h3 class="text-xl font-bold mb-4">${program.keyAchievements ? 'Key Achievements' : 'Key Targets'}</h3>
                            <ul class="space-y-2">
                                ${(program.keyAchievements || program.keyTargets).map(item => `
                                    <li class="flex items-start">
                                        <i class="fas fa-check-circle mr-2 mt-1"></i>
                                        <span>${item}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    ` : ''}
                `;
            }

            // Sector details
            if (id.startsWith('sector-')) {
                const sectorName = id.replace('sector-', '').split('-').map(word =>
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join(' ');
                const sector = appData.economicData.sectors.find(s => s.name.toLowerCase() === sectorName.toLowerCase());

                if (sector) {
                    content = `
                        <div class="bg-gradient-to-br ${sector.color} text-white p-8 rounded-lg mb-6">
                            <i class="fas ${sector.icon} text-6xl mb-4"></i>
                            <h2 class="text-3xl font-bold mb-2">${sector.name} Sector</h2>
                            <div class="flex items-center space-x-4 text-lg">
                                <span>${sector.gdpContribution}% of GDP</span>
                                <span>•</span>
                                <span>+${sector.growth}% Growth</span>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h3 class="text-2xl font-bold mb-3 text-primary dark:text-secondary">Sector Performance</h3>
                            <p class="text-gray-700 dark:text-gray-300 leading-relaxed">${sector.details}</p>
                        </div>

                        ${sector.opportunities ? `
                            <div class="bg-green-50 dark:bg-green-900 p-6 rounded-lg">
                                <h3 class="text-2xl font-bold mb-3 text-green-800 dark:text-green-200">
                                    <i class="fas fa-lightbulb mr-2"></i>Investment Opportunities
                                </h3>
                                <p class="text-gray-700 dark:text-gray-300 leading-relaxed">${sector.opportunities}</p>
                            </div>
                        ` : ''}
                    `;
                }
            }

            // Investment details
            if (id.startsWith('invest-')) {
                const sectorName = id.replace('invest-', '').split('-').map(word =>
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join(' ');
                const sector = appData.economicData.sectors.find(s => s.name.toLowerCase() === sectorName.toLowerCase());

                if (sector) {
                    content = `
                        <div class="bg-gradient-to-br ${sector.color} text-white p-8 rounded-lg mb-6">
                            <i class="fas ${sector.icon} text-6xl mb-4"></i>
                            <h2 class="text-3xl font-bold mb-2">Invest in ${sector.name}</h2>
                            <p class="text-lg">High-growth opportunities in Zimbabwe's ${sector.name.toLowerCase()} sector</p>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg text-center">
                                <div class="text-3xl font-bold text-blue-600 dark:text-blue-300">${sector.gdpContribution}%</div>
                                <div class="text-sm text-gray-700 dark:text-gray-300">GDP Contribution</div>
                            </div>
                            <div class="bg-green-50 dark:bg-green-900 p-4 rounded-lg text-center">
                                <div class="text-3xl font-bold text-green-600 dark:text-green-300">+${sector.growth}%</div>
                                <div class="text-sm text-gray-700 dark:text-gray-300">Annual Growth</div>
                            </div>
                            <div class="bg-purple-50 dark:bg-purple-900 p-4 rounded-lg text-center">
                                <div class="text-3xl font-bold text-purple-600 dark:text-purple-300">High</div>
                                <div class="text-sm text-gray-700 dark:text-gray-300">ROI Potential</div>
                            </div>
                        </div>

                        <div class="mb-6">
                            <h3 class="text-2xl font-bold mb-3 text-primary dark:text-secondary">Sector Overview</h3>
                            <p class="text-gray-700 dark:text-gray-300 leading-relaxed mb-4">${sector.details}</p>
                        </div>

                        <div class="bg-gradient-to-r from-primary to-secondary text-white p-6 rounded-lg mb-6">
                            <h3 class="text-2xl font-bold mb-3">
                                <i class="fas fa-chart-line mr-2"></i>Investment Opportunities
                            </h3>
                            <p class="leading-relaxed mb-4">${sector.opportunities}</p>

                            <div class="bg-white bg-opacity-20 p-4 rounded-lg mt-4">
                                <h4 class="font-bold mb-2">Why Invest Now?</h4>
                                <ul class="space-y-2">
                                    <li>✓ Government incentives and support</li>
                                    <li>✓ Growing regional market access (AfCFTA)</li>
                                    <li>✓ Improving infrastructure and business environment</li>
                                    <li>✓ Skilled workforce and competitive labor costs</li>
                                    <li>✓ Strategic location in Southern Africa</li>
                                </ul>
                            </div>
                        </div>

                        <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg">
                            <h3 class="text-xl font-bold mb-3 text-primary dark:text-secondary">Next Steps</h3>
                            <p class="mb-4 text-gray-700 dark:text-gray-300">Contact The Zimbabwe Investment Development Agency (ZIDA) for detailed investment guidance and support.</p>

                            <div class="mb-4 text-sm text-gray-700 dark:text-gray-300">
                                <p class="font-semibold mb-2"><i class="fas fa-map-marker-alt text-accent mr-2"></i>Address:</p>
                                <p class="mb-3">Cnr Jason Moyo & Sam Nujoma St.<br/>ZB Life Towers, 1st Floor<br/>Harare, Zimbabwe</p>

                                <p class="font-semibold mb-2"><i class="fas fa-phone text-accent mr-2"></i>Phone:</p>
                                <p class="mb-3">+263 8688002639-42</p>

                                <p class="font-semibold mb-2"><i class="fas fa-envelope text-accent mr-2"></i>Email:</p>
                                <p class="mb-3">info@zidainvest.com</p>
                            </div>

                            <div class="flex flex-col gap-3 mb-4">
                                <a href="https://zidainvest.com/" target="_blank" class="bg-primary hover:bg-secondary text-white text-center py-3 rounded-lg font-semibold transition">
                                    <i class="fas fa-globe mr-2"></i>Visit ZIDA Website
                                </a>
                                <a href="mailto:info@zidainvest.com" class="bg-accent hover:bg-red-700 text-white text-center py-3 rounded-lg font-semibold transition">
                                    <i class="fas fa-envelope mr-2"></i>Email ZIDA
                                </a>
                            </div>

                            <div class="flex justify-center space-x-4">
                                <a href="https://www.linkedin.com/company/zimbabwe-investment-development-agency-zida/" target="_blank" class="text-2xl text-blue-700 hover:text-blue-900 transition">
                                    <i class="fab fa-linkedin"></i>
                                </a>
                                <a href="https://www.facebook.com/zidainvest/" target="_blank" class="text-2xl text-blue-600 hover:text-blue-800 transition">
                                    <i class="fab fa-facebook"></i>
                                </a>
                            </div>
                        </div>
                    `;
                }
            }

            if (content) {
                modalBody.innerHTML = content;
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal() {
            const modal = document.getElementById('modal');
            modal.classList.remove('show');
            document.body.style.overflow = '';
        }

        // Close modal on outside click
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') {
                closeModal();
            }
        });

        // AI Assistant Function
        async function askQuestion(question) {
            const questionText = typeof question === 'string' ? question : document.getElementById('user-question').value.trim();
            if (!questionText) return;

            const chatMessages = document.getElementById('chat-messages');
            const userInput = document.getElementById('user-question');

            // Clear placeholder
            if (chatMessages.querySelector('.text-center')) {
                chatMessages.innerHTML = '';
            }

            // Add user message
            chatMessages.innerHTML += `
                <div class="mb-4 text-right">
                    <div class="inline-block bg-primary text-white px-4 py-2 rounded-lg max-w-[80%]">
                        ${questionText}
                    </div>
                </div>
            `;

            userInput.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Add loading message
            const loadingId = 'loading-' + Date.now();
            chatMessages.innerHTML += `
                <div id="${loadingId}" class="mb-4">
                    <div class="inline-block bg-gray-200 dark:bg-gray-700 px-4 py-2 rounded-lg">
                        <i class="fas fa-circle-notch fa-spin mr-2"></i>Thinking...
                    </div>
                </div>
            `;
            chatMessages.scrollTop = chatMessages.scrollHeight;

            try {
                // Check if Poe API is available
                if (typeof window.Poe !== 'undefined' && window.Poe.sendUserMessage) {
                    let responseReceived = false;

                    window.Poe.registerHandler('vision2030-assistant-' + Date.now(), (result, context) => {
                        const msg = result.responses[0];

                        if (!responseReceived) {
                            document.getElementById(loadingId)?.remove();
                            responseReceived = true;
                        }

                        if (msg.status === 'error') {
                            chatMessages.innerHTML += `
                                <div class="mb-4">
                                    <div class="inline-block bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 px-4 py-2 rounded-lg max-w-[80%]">
                                        Error: ${msg.statusText || 'Failed to get response'}
                                    </div>
                                </div>
                            `;
                        } else if (msg.status === 'complete' || msg.status === 'incomplete') {
                            const existingResponse = document.getElementById(context.messageId);
                            if (existingResponse) {
                                existingResponse.innerHTML = msg.content;
                            } else {
                                chatMessages.innerHTML += `
                                    <div id="${context.messageId}" class="mb-4">
                                        <div class="inline-block bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 rounded-lg max-w-[80%]">
                                            ${msg.content}
                                        </div>
                                    </div>
                                `;
                            }
                        }

                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    });

                    const contextInfo = {
                        gdp: appData.economicData.gdp,
                        programs: appData.programs.map(p => ({ name: p.name, status: p.status })),
                        sectors: appData.economicData.sectors.map(s => ({ name: s.name, gdpContribution: s.gdpContribution }))
                    };

                    await window.Poe.sendUserMessage(
                        `@Claude-Sonnet-4.5 You are an expert assistant for Zimbabwe's Vision 2030 initiative. Answer questions about Zimbabwe's economic development, programs (TSP, NDS1, NDS2), sectors, and progress. Be concise and informative. Context: ${JSON.stringify(contextInfo)}\n\nQuestion: ${questionText}`,
                        {
                            handler: 'vision2030-assistant-' + Date.now(),
                            stream: true,
                            openChat: false,
                            handlerContext: { messageId: 'msg-' + Date.now() }
                        }
                    );
                } else {
                    // Fallback response
                    document.getElementById(loadingId)?.remove();
                    const response = getStaticResponse(questionText);
                    chatMessages.innerHTML += `
                        <div class="mb-4">
                            <div class="inline-block bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white px-4 py-2 rounded-lg max-w-[80%]">
                                ${response}
                            </div>
                        </div>
                    `;
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }
            } catch (error) {
                console.error('Error asking question:', error);
                document.getElementById(loadingId)?.remove();
                chatMessages.innerHTML += `
                    <div class="mb-4">
                        <div class="inline-block bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 px-4 py-2 rounded-lg max-w-[80%]">
                            Sorry, I encountered an error. Please try again.
                        </div>
                    </div>
                `;
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        // Static response fallback
        function getStaticResponse(question) {
            const q = question.toLowerCase();

            if (q.includes('vision 2030') || q.includes('what is')) {
                return "Vision 2030 is Zimbabwe's strategic framework to transform the country into an upper middle-income economy by 2030. It focuses on inclusive growth, infrastructure development, good governance, and environmental sustainability. The vision is being implemented through three phases: TSP (2018-2020), NDS1 (2021-2025), and NDS2 (2026-2030).";
            } else if (q.includes('nds1') || q.includes('achievement')) {
                return "NDS1 (2021-2025) has exceeded targets with remarkable achievements: 6.3% average annual GDP growth, 820,000+ formal jobs created, manufacturing now the largest GDP contributor at 15.3%, record agricultural output, and major infrastructure projects like Kunzvi Dam (65% complete) and Gwayi-Shangani Dam (72.4% complete).";
            } else if (q.includes('gdp') || q.includes('growth')) {
                return "Zimbabwe's economy is projected to grow by 6.0% in 2025, with GDP reaching $48.5B. The 2024 growth was affected by El Niño drought at 2.0%, but strong recovery is underway. Manufacturing leads at 15.3% of GDP, followed by services (35%) and mining (14.5%).";
            } else if (q.includes('infrastructure') || q.includes('project')) {
                return "Major infrastructure projects include: Kunzvi Dam (65% complete) for water security, Gwayi-Shangani Dam (72.4%), Lake Gwayi-Tshangani (50%), DISCO Steel Plant ($1.5B investment), and nationwide road rehabilitation. Over 2,106 institutions have been electrified since 2017 with 146 more in progress.";
            } else if (q.includes('invest') || q.includes('opportunity')) {
                return "Zimbabwe offers investment opportunities across key sectors: Manufacturing ($1.4B+ investments), Agriculture (record outputs), Mining (Africa's largest lithium reserves), Tourism (Forbes #1 destination 2025), Energy (renewable expansion), and ICT (digital transformation). Contact Zimbabwe Investment Development Agency (ZIDA) at https://zidainvest.com or email info@zidainvest.com for details.";
            } else {
                return "I can help you with information about Zimbabwe's Vision 2030, economic progress, development programs (TSP, NDS1, NDS2), key sectors, infrastructure projects, and investment opportunities. Please ask a specific question!";
            }
        }

        // Feedback Form Handler
        document.getElementById('feedback-form').addEventListener('submit', (e) => {
            e.preventDefault();

            const name = document.getElementById('feedback-name').value;
            const email = document.getElementById('feedback-email').value;
            const category = document.getElementById('feedback-category').value;
            const message = document.getElementById('feedback-message').value;

            const whatsappMessage = `*Vision 2030 Feedback*\n\nFrom: ${name}\nEmail: ${email}\nCategory: ${category}\n\nMessage:\n${message}`;
            const whatsappUrl = `https://wa.me/263713794347?text=${encodeURIComponent(whatsappMessage)}`;

            window.open(whatsappUrl, '_blank');

            // Show success message
            const responseDiv = document.getElementById('feedback-response');
            responseDiv.innerHTML = `
                <div class="bg-green-100 dark:bg-green-900 border border-green-400 dark:border-green-700 text-green-700 dark:text-green-200 px-4 py-3 rounded">
                    <i class="fas fa-check-circle mr-2"></i>Feedback sent via WhatsApp! Thank you for your input.
                </div>
            `;
            responseDiv.classList.remove('hidden');

            // Reset form
            e.target.reset();

            // Hide success message after 5 seconds
            setTimeout(() => {
                responseDiv.classList.add('hidden');
            }, 5000);
        });

        // Initialize Event Listeners
        function initializeEventListeners() {
            // Enter key in chat input
            document.getElementById('user-question').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    askQuestion();
                }
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Lazy loading for images
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.classList.add('loaded');
                            observer.unobserve(img);
                        }
                    });
                });

                document.querySelectorAll('img[loading="lazy"]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        }

        // Notification Helper
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg ${
                type === 'error' ? 'bg-red-500' : type === 'success' ? 'bg-green-500' : 'bg-blue-500'
            } text-white`;
            notification.innerHTML = `<i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'} mr-2"></i>${message}`;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 5000);
        }
    </script>
</body>
</html>